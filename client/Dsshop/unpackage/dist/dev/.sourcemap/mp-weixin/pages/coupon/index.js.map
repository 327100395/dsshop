{"version":3,"sources":["uni-app:///main.js","webpack:///D:/www/dsshop/client/Dsshop/pages/coupon/index.vue?2221","webpack:///D:/www/dsshop/client/Dsshop/pages/coupon/index.vue?47b5","webpack:///D:/www/dsshop/client/Dsshop/pages/coupon/index.vue?225a","webpack:///D:/www/dsshop/client/Dsshop/pages/coupon/index.vue?eeb3","uni-app:///pages/coupon/index.vue","webpack:///D:/www/dsshop/client/Dsshop/pages/coupon/index.vue?9e04","webpack:///D:/www/dsshop/client/Dsshop/pages/coupon/index.vue?f0df"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,8F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACqM;AACrM,gBAAgB,sMAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sNAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA4wB,CAAgB,4uBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoChyB,uF;;AAEA;AACA;AACA,4BADA;AAEA,gBAFA;AAGA,4BAHA,EADA;;AAMA,MANA,kBAMA;AACA;AACA,kBADA;AAEA,wBAFA;AAGA,aAHA;AAIA,mBAJA;AAKA;AACA,gBADA;AAEA,kBAFA;AAGA,2BAHA;AAIA,qBAJA;;AAMA;AACA,gBADA;AAEA,mBAFA;AAGA,2BAHA;AAIA,qBAJA,EANA;;AAYA;AACA,gBADA;AAEA,mBAFA;AAGA,2BAHA;AAIA,qBAJA,EAZA;;AAkBA;AACA,gBADA;AAEA,mBAFA;AAGA,2BAHA;AAIA,qBAJA,EAlBA,CALA;;;;AA+BA,GAtCA;;AAwCA;AACA;;;;AAIA;;;;;;AAMA;AACA;AACA;;;AAGA,GAxDA;AAyDA,cAzDA;;;AA4DA;AACA;AACA,YAFA,oBAEA,MAFA,EAEA,MAFA,EAEA;AACA,qBADA,GACA,qBADA;AAEA,uBAFA,GAEA,oBAFA;AAGA,qBAHA,GAGA,aAHA;AAIA,iEAJA;;;;AAQA,iDARA;;;;AAYA,gDAZA;;;;AAgBA;AACA,8BAjBA,GAiBA,EAjBA;AAkBA,oBAlBA,GAkBA,KAlBA;AAmBA;AACA,4BADA;AAEA,oCAFA;AAGA,gCAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,qBAJA,MAIA;AACA;AACA;AACA;AACA;AACA,0CADA;AAEA,qDAFA;AAGA,kDAHA;AAIA,iDAJA;AAKA,+JALA;;AAOA;AACA;AACA,uBAFA,MAEA;AACA;AACA,uBAFA,MAEA;AACA;AACA;AACA;AACA,qBAhBA;AAiBA;AACA;AACA,mBAhCA,CAnBA;;AAqDA,KAvDA;;AAyDA;AACA,aA1DA,qBA0DA,CA1DA,EA0DA;AACA;AACA;AACA,KA7DA;AA8DA;AACA,YA/DA,oBA+DA,KA/DA,EA+DA;AACA;AACA;AACA,KAlEA,EA5DA,E;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAy5C,CAAgB,0xCAAG,EAAC,C;;;;;;;;;;;ACA76C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/coupon/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/coupon/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=314aabbc&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/coupon/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=314aabbc&\"","var components\ntry {\n  components = {\n    uniLoadMore: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-load-more/uni-load-more\" */ \"@/components/uni-load-more/uni-load-more.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"content\">\n\t\t<view class=\"navbar\">\n\t\t\t<view \n\t\t\t\tv-for=\"(item, index) in navList\" :key=\"index\" \n\t\t\t\tclass=\"nav-item\" \n\t\t\t\t:class=\"{current: tabCurrentIndex === index}\"\n\t\t\t\t@click=\"tabClick(index)\"\n\t\t\t>\n\t\t\t\t{{item.text}}\n\t\t\t</view>\n\t\t</view>\n\t\t<swiper :current=\"tabCurrentIndex\" class=\"swiper-box\" duration=\"300\" @change=\"changeTab\">\n\t\t\t<swiper-item class=\"tab-content\" v-for=\"(tabItem,tabIndex) in navList\" :key=\"tabIndex\">\n\t\t\t\t<scroll-view \n\t\t\t\t\tclass=\"list-scroll-content\" \n\t\t\t\t\tscroll-y\n\t\t\t\t\t@scrolltolower=\"loadData\"\n\t\t\t\t>\n\t\t\t\t\t<!-- 空白页 -->\n\t\t\t\t\t<empty v-if=\"tabItem.loaded === true && tabItem.orderList.length === 0\"></empty>\n\t\t\t\t\t\n\t\t\t\t\t<!-- 列表 -->\n\t\t\t\t\t<view class=\"padding-xl bg-white\">\n\t\t\t\t\t\t<coolc-coupon @getCoupon=\"getCoupon\" v-for=\"(item, index) in tabItem.orderList\" :key=\"index\" v-bind:item=\"item\" types=\"use\" theme=\"#ff6c00\" color=\"#ffffff\" solid=\"#ff6c00\"></coolc-coupon>\n\t\t\t\t\t\t<uni-load-more :status=\"tabItem.loadingType\"></uni-load-more>\r\n\t\t\t\t\t</view>\n\t\t\t\t</scroll-view>\n\t\t\t</swiper-item>\n\t\t</swiper>\n\t</view>\n</template> \n\n<script>\n\timport uniLoadMore from '@/components/uni-load-more/uni-load-more.vue';\n\timport empty from \"@/components/empty\";\n\timport Coupon from '../../api/coupon'\n\timport coolcCoupon from '@/components/coupon/coolc-coupon.vue';\n\texport default {\n\t\tcomponents: {\n\t\t\tuniLoadMore,\n\t\t\tempty,\n\t\t\tcoolcCoupon\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tCustomBar: 0,\n\t\t\t\ttabCurrentIndex: 0,\n\t\t\t\tpage:1,\n\t\t\t\tmodalName: '',\n\t\t\t\tnavList: [{\n\t\t\t\t\t\tstate: 0,\n\t\t\t\t\t\ttext: '全部',\n\t\t\t\t\t\tloadingType: 'more',\n\t\t\t\t\t\torderList: []\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tstate: 1,\n\t\t\t\t\t\ttext: '未使用',\n\t\t\t\t\t\tloadingType: 'more',\n\t\t\t\t\t\torderList: []\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tstate: 2,\n\t\t\t\t\t\ttext: '已使用',\n\t\t\t\t\t\tloadingType: 'more',\n\t\t\t\t\t\torderList: []\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tstate: 3,\n\t\t\t\t\t\ttext: '已失效',\n\t\t\t\t\t\tloadingType: 'more',\n\t\t\t\t\t\torderList: []\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t};\n\t\t},\n\t\t\n\t\tonLoad: function(options) {\n\t\t\t/**\n\t\t\t * 修复app端点击除全部订单外的按钮进入时不加载数据的问题\n\t\t\t * 替换onLoad下代码即可\n\t\t\t */\n\t\t\tthis.tabCurrentIndex = +options.state;\n\t\t\t// #ifndef MP\n\t\t\tthis.CustomBar = 42\n\t\t\tthis.loadData()\n\t\t\t// #endif\n\t\t\t// #ifdef MP\n\t\t\tif(options.state == 0){\n\t\t\t\tthis.loadData()\n\t\t\t}\n\t\t\t// #endif\n\t\t\t\n\t\t},\n\t\tcomputed: {\n\t\t\t\n\t\t},\n\t\tmethods: {\n\t\t\t//列表\n\t\t\tasync loadData(source,search){\n\t\t\t\tlet index = this.tabCurrentIndex;\n\t\t\t\tlet navItem = this.navList[index];\n\t\t\t\tlet state = navItem.state;\n\t\t\t\tif(source === 'tabChange' && navItem.loaded === true){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(navItem.loadingType === 'loading'){\n\t\t\t\t\t//防止重复加载\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(navItem.loadingType === 'noMore'){\n\t\t\t\t\t//无更多数据时跳出\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tnavItem.loadingType = 'loading';\n\t\t\t\tlet userCouponList = []\n\t\t\t\tlet that =this\n\t\t\t\tawait Coupon.getUserList({\n\t\t\t\t\tlimit: 8,\n\t\t\t\t\tpage: this.page,\n\t\t\t\t\tindex: index\t\t\t\t\t\n\t\t\t\t},function(res){\n\t\t\t\t\tuserCouponList = res.data\r\n\t\t\t\t\tif (res.last_page > that.page){\n\t\t\t\t\t\tthat.page ++\n\t\t\t\t\t\t//判断是否还有数据， 有改为 more， 没有改为noMore\n\t\t\t\t\t\tthat.$set(navItem, 'loadingType', 'more');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.$set(navItem, 'loadingType', 'noMore');\n\t\t\t\t\t}\n\t\t\t\t\tuserCouponList.forEach(item=>{\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\tid: item.coupon.id,\r\n\t\t\t\t\t\t\tmoney: item.coupon.cost/100,\r\n\t\t\t\t\t\t\ttitle: item.coupon.explain,\n\t\t\t\t\t\t\turl: '/pages/index/index',\n\t\t\t\t\t\t\tend_time: item.failure_time ? item.failure_time.split(' ')[0].replace(/-/g,\".\") : item.coupon.endtime.split(' ')[0].replace(/-/g,\".\"),\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(item.state === 1){\n\t\t\t\t\t\t\tdata.state = '2'\n\t\t\t\t\t\t} else if(item.state === 2){\n\t\t\t\t\t\t\tdata.state = '3'\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tdata.state = '1'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnavItem.orderList.push(data);\n\t\t\t\t\t})\n\t\t\t\t\t//loaded新字段用于表示数据加载完毕，如果为空可以显示空白页\n\t\t\t\t\tthat.$set(navItem, 'loaded', true);\n\t\t\t\t})\n\t\t\t\t\n\t\t\t}, \n\n\t\t\t//swiper 切换\n\t\t\tchangeTab(e){\n\t\t\t\tthis.tabCurrentIndex = e.target.current;\n\t\t\t\tthis.loadData('tabChange');\n\t\t\t},\n\t\t\t//顶部tab点击\n\t\t\ttabClick(index){\n\t\t\t\tthis.tabCurrentIndex = index\n\t\t\t\tthis.page = 1\n\t\t\t}\n\t\t},\n\t}\n</script>\n\n<style lang=\"scss\">\n\tpage, .content{\n\t\tbackground: #FFFFFF;\n\t\theight: 100%;\n\t}\n\t\n\t.swiper-box{\n\t\theight: calc(100% - 40px);\n\t}\n\t.list-scroll-content{\n\t\theight: 100%;\n\t}\n\t\n\t.navbar{\n\t\tdisplay: flex;\n\t\theight: 40px;\n\t\tpadding: 0 5px;\n\t\tbackground: #fff;\n\t\tbox-shadow: 0 1px 5px rgba(0,0,0,.06);\n\t\tposition: relative;\n\t\tz-index: 10;\n\t\t.nav-item{\n\t\t\tflex: 1;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\theight: 100%;\n\t\t\tfont-size: 15px;\n\t\t\tcolor: $font-color-dark;\n\t\t\tposition: relative;\n\t\t\t&.current{\n\t\t\t\tcolor: $base-color;\n\t\t\t\t&:after{\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\ttransform: translateX(-50%);\n\t\t\t\t\twidth: 44px;\n\t\t\t\t\theight: 0;\n\t\t\t\t\tborder-bottom: 2px solid $base-color;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t.uni-swiper-item{\n\t\theight: auto;\n\t}\n\t/deep/ .get-btn{\n\t\tright:10upx !important;\n\t}\n</style>\n","import mod from \"-!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1615809982711\n      var cssReload = require(\"D:/下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}